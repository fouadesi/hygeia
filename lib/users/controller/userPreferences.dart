import 'package:flutter/material.dart';import 'package:hygeia/users/data/model/patient.dart';import 'package:shared_preferences/shared_preferences.dart';import 'dart:async';class UserPreferences with ChangeNotifier{  Future<bool> saveUser(Patient user) async {    print(user);    final SharedPreferences prefs = await SharedPreferences.getInstance();    prefs.setString("Lastname", user.name);    prefs.setString('Firstname',user.lastname);    prefs.setString('Email',user.email);    prefs.setString('BirthPlace',user.birthplace);    prefs.setString('Sexe',user.sexe);    prefs.setString('Picture',user.picture);    prefs.setString('Phonenumber',user.phonenumber.toString());    prefs.setString('Role',user.role);    prefs.setString('Birthday',user.birthday);    prefs.setString("Address", user.adresse);        prefs.setString('Wilaya',user.wilaya);    prefs.setString('Bloodgroup',user.bloodgroupe);    prefs.setString('Situation',user.situation);    notifyListeners();    return prefs.commit();  }  Future<Patient> getUser() async {    final SharedPreferences prefs = await SharedPreferences.getInstance();    return Patient(      name: prefs.getString("Firstname"),      wilaya:prefs.getString("Wilaya")  ,      situation: prefs.getString("Situation"),      sexe:prefs.getString("Sexe") ,      lastname: prefs.getString("Lastname"),      birthday: prefs.getString("Birthday"),      birthplace: prefs.getString("BirthPlace"),      bloodgroupe: prefs.getString("Bloodgroup"),      phonenumber:prefs.getString("Phonenumber") ,      picture:prefs.getString("Picture"),      add:prefs.getString("Add"),      role: prefs.getString("Role"),      adresse: prefs.getString("Address") ,      email: prefs.getString("Email"),);  }  void removeUser() async {    final SharedPreferences prefs = await SharedPreferences.getInstance();    prefs.remove("Firstname");  }  Future<String> getToken(args) async {    final SharedPreferences prefs = await SharedPreferences.getInstance();    String token = prefs.getString("token");    return token;  }}